@page
@model Lab3.Pages.Collaboration.FinAnalysisModel

<h2>Financial Analysis</h2>

<form method="post">
    <label for="tableSelect">Choose a table:</label>
    <select id="tableSelect" name="SelectedTable" asp-items="@(new SelectList(Model.TableNames))">
        <option value="">-- Select a Table --</option>
    </select>
    <input type="submit" value="Load Columns" />

    @if (Model.ColumnNames.Any())
    {
        <div>
            <h3>Select Columns for Analysis (Select 2 columns for regression)</h3>
            @foreach (var column in Model.ColumnNames)
            {
                <input type="checkbox" name="SelectedColumns" value="@column" /> @column
                <br />
            }
            <input type="submit" value="Submit Selection" />
        </div>
    }
</form>



@if (Model.RegressionResult.Intercept != 0 || Model.RegressionResult.Slope != 0)
{
    <h3>Regression Analysis Result</h3>
    <p>Intercept: @Model.RegressionResult.Intercept</p>
    <p>Slope: @Model.RegressionResult.Slope</p>
}